{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\B.mani chandu\\\\OneDrive\\\\Desktop\\\\User Management\\\\client\\\\admin-panel\\\\src\\\\pages\\\\UsersPage.js\",\n  _s = $RefreshSig$();\n// src/pages/UsersPage.js\nimport React, { useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport UserTable from '../components/UserTable'; // Create this component\nimport UserForm from '../components/UserForm'; // Create this component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UsersPage = () => {\n  _s();\n  const {\n    users,\n    loading,\n    error,\n    fetchUsers,\n    addUser,\n    deleteUser\n  } = useAuth(); // Get functions from context\n\n  // Fetch users on component mount\n  useEffect(() => {\n    fetchUsers();\n  }, [fetchUsers]);\n  const handleAddUser = async userData => {\n    try {\n      await addUser(userData); // Call the context function\n      fetchUsers(); // Refresh the user list after adding\n    } catch (err) {\n      alert('Error adding user: ' + (err.message || err));\n    }\n  };\n  const handleDeleteUser = async userId => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        await deleteUser(userId); // Call the context function\n        fetchUsers(); // Refresh the user list after deleting\n      } catch (err) {\n        alert('Error deleting user: ' + (err.message || err));\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(UserForm, {\n      onSubmit: handleAddUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading users...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }, this), !loading && !error && users.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No users found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 58\n    }, this), !loading && !error && users.length > 0 && /*#__PURE__*/_jsxDEV(UserTable, {\n      users: users,\n      onDelete: handleDeleteUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_s(UsersPage, \"vCW4JrzEC/dLcYjvNqfTAjufC54=\", false, function () {\n  return [useAuth];\n});\n_c = UsersPage;\nexport default UsersPage;\nvar _c;\n$RefreshReg$(_c, \"UsersPage\");","map":{"version":3,"names":["React","useEffect","useAuth","UserTable","UserForm","jsxDEV","_jsxDEV","UsersPage","_s","users","loading","error","fetchUsers","addUser","deleteUser","handleAddUser","userData","err","alert","message","handleDeleteUser","userId","window","confirm","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","color","length","onDelete","_c","$RefreshReg$"],"sources":["C:/Users/B.mani chandu/OneDrive/Desktop/User Management/client/admin-panel/src/pages/UsersPage.js"],"sourcesContent":["// src/pages/UsersPage.js\r\nimport React, { useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport UserTable from '../components/UserTable'; // Create this component\r\nimport UserForm from '../components/UserForm'; // Create this component\r\n\r\nconst UsersPage = () => {\r\n    const { users, loading, error, fetchUsers, addUser, deleteUser } = useAuth(); // Get functions from context\r\n\r\n    // Fetch users on component mount\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, [fetchUsers]);\r\n\r\n    const handleAddUser = async (userData) => {\r\n        try {\r\n            await addUser(userData); // Call the context function\r\n            fetchUsers(); // Refresh the user list after adding\r\n        } catch (err) {\r\n            alert('Error adding user: ' + (err.message || err));\r\n        }\r\n    };\r\n\r\n    const handleDeleteUser = async (userId) => {\r\n        if (window.confirm('Are you sure you want to delete this user?')) {\r\n            try {\r\n                await deleteUser(userId); // Call the context function\r\n                fetchUsers(); // Refresh the user list after deleting\r\n            } catch (err) {\r\n                alert('Error deleting user: ' + (err.message || err));\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>User Management</h1>\r\n            {/* Add User Form */}\r\n            <UserForm onSubmit={handleAddUser} />\r\n\r\n            <hr />\r\n\r\n            {/* User List */}\r\n            {loading && <p>Loading users...</p>}\r\n            {error && <p style={{ color: 'red' }}>Error: {error}</p>}\r\n            {!loading && !error && users.length === 0 && <p>No users found.</p>}\r\n            {!loading && !error && users.length > 0 && (\r\n                <UserTable users={users} onDelete={handleDeleteUser} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UsersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}